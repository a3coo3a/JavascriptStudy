<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
  <h2>날짜 객체 사용하기</h2>
  <script>
    //JS에서 날짜 계산을 편하게 하려면 밀리초 이용하면 됩니다.
    
    var before = new Date(1606709855498);  // 예전날짜
    console.log(before);

    var date = new Date(); //오늘날짜 (날짜 형식)
    console.log(date);      // 밀리초 : 1606709855498
    console.log(date.getTime());  // 시간을 밀리초로 변경
    console.log(date.getFullYear());    //년
    console.log(date.getMonth()+1);     //월
    console.log(date.getDate());        //일
    console.log(date.getHours());       //시
    console.log(date.getMinutes());     //분
    console.log(date.getSeconds());     //초

    // 시간차 구하기
    // 1일에 대한 밀리초 -> 1000 * 60 * 60 * 24
    // 1시간에 대한 밀리초 -> 1000 * 60 * 60
    //console.log("초 차이 : " + new Date(date-before).getSeconds()+"초")
    var str;
    var millis = 1606709855498 //- (1000*60*60*24);
    var gap = date.getTime() - millis;  // 밀리초 - 밀리초
    if(gap < 1000*60*60*24){   // 1일 이하인 경우
      if(gap < 1000*60*60){   // 1시간 이하인 경우 
        str = "방금전";
      }else{
        //str = (new Date(gap)).getHours+"시간전"   //function getHours() { [native code] }시간전
        str = parseInt(gap /(1000*60*60)) + "시간 전"
      }
    }else {  //1일 이상인 경우 
      var now = new Date(millis);
      var year = now.getFullYear();
      var month = now.getMonth() + 1;
      var day = now.getDate();
      var hour = now.getHours();
      var minute = now.getMinutes();
      var second = now.getSeconds();

      str = year + "년 " + month + "월 " + day +"일, " + hour + " : " + minute + " : " + second;
    }
    console.log(str);
  </script>
</body>
</html>