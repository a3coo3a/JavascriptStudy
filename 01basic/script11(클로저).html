<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
  <script>

    /*function func1(){
      var a = "func1) 함수 안에서 선언된 변수는 지역변수";
    }

    console.log(a);   // error 
    */

    function func2(){
      var a = "func2)함수안에서 선언된 지역변수";
      var result = function() {
        return a;    // func2의 a 변수
      }
      return result;    // 함수 자체를 반환
    }
    console.log(func2());
    //   ▼▼▼▼▼▼ 줄여서 사용해 보자
    function func2(){
      var a = "func2)함수안에서 선언된 지역변수";
      return function() {
        return a;    // func2의 a 변수
      }
     
    } 
    console.log(func2());

    var b = func2();
    console.log(b);     // 함수 자체를 반환 받는다
    console.log(b());   // 함수 안에 있는 a의 자원이 해제되지 않는다.
    
    // 클로저 함수 : 리턴해 주는 내부 함수
    // -func2 안에 내부함수가 func2의 지역변수를 접근할 수 있는 키를 가지고 있다.
    // 클로저 상황 - 내부함수가 외부함수에 지역변수 값을 바꾸는 상황

    // 클로저를 이용해서 function 안에 getter, setter함수로 사용이 가능
    function test1(){
      var a = "private변수";
      console.log("a값의 확인 : " + a );
      return function(name){
        a = name;
        console.log("a값의 확인 : " + a );
      }
    }

    var setter = test1();
    setter();   // name 값이 지정되지 않아 return a = undefined 됨 
    setter("변신");

    function test2(){
      var a = "getter확인";
      return function(){
        return a;
      }
    }
    var getter = test2();
    console.log(getter());

  </script>

</body>
</html>